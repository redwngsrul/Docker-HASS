#Motion Alarm Notifier
- alias: "Front Porch Motion Alarm Notify"
  trigger:
    - platform: state
      entity_id: sensor.front_porch_motion_detected
      from: 'False'
#      for:
#        minutes: 5
  condition:
    condition: or
    conditions:
      - condition: state
        entity_id: device_tracker.pixelxl_pixelxl_2
        state: not_home
#        for:
#          minutes: 2
      - condition: state
        entity_id: device_tracker.pixelxl_pixelxl_2
        state: "Zach's"
#        for:
#          minutes: 2
      - condition: state
        entity_id: device_tracker.pixelxl_pixelxl_2
        state: Work
#        for:
#          minutes: 2
      - condition: state
        entity_id: device_tracker.pixelxl_pixelxl_2
        state: "Mom & Dad's"
#        for:
#          minutes: 2
      - condition: state
        entity_id: device_tracker.pixelxl_pixelxl_2
        state: "Derek & Ruby's"
#        for:
#          minutes: 2
  action:
    - service: shell_command.front_porch_snapshot
    - service: shell_command.living_room_snapshot
    - service: shell_command.garage_snapshot
    - service: shell_command.den_snapshot
    - service: notify.gmail
      data:
        title: 'Front porch motion detected!'
        message: 'Motion detected at the front door.'
        data:
          images: 
            - /config/www/front_porch_motion.jpg
            - /config/www/living_room_motion.jpg
            - /config/www/garage_motion.jpg
            - /config/www/den_motion.jpg
